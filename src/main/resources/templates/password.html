<html lang="en" xmlns="http://www.thymeleaf.org">

<head>
	<link rel="stylesheet" href="/css/mystyle.css">
	
	<link rel="stylesheet" href="/css/bootstrap.min.css">
	<!-- Font Awesome CSS -->
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"
		integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
	<link rel="stylesheet" href="https://cdn.datatables.net/1.12.1/css/jquery.dataTables.min.css">
	<script src="/js/jquery-3.6.0.min.js"></script>
	<script src="/js/bootstrap.min.js"></script>
	<script src="https://cdn.datatables.net/1.12.1/js/jquery.dataTables.min.js"></script>
	
</head>
<style>
	.valid {
		color: red;
		font-size: 10pt;
	}

	.emailme {
		color: cornflowerblue;
		font-size: 14pt;
	}
</style>
<section class="vh-100">
	<div class="container-fluid h-custom">

		<div th:if="${message}">
			<script>
				//alert("OTP Salah, Coba Cek Lagi!")
			</script>
		</div>
		<div class="row d-flex justify-content-center align-items-center h-100">
			<div class="col-md-9 col-lg-6 col-xl-5">
				<img src="/image/xsis.png" class="img-fluid" alt="Sample image">
			</div>
			<div class="col-md-8 col-lg-6 col-xl-4 offset-xl-1">
				<form name="myform" action="/user/setpassword" method="POST" onsubmit="return validate()">

					<table class="table">
						<div><label>Masukan Password Baru Untuk Akun Anda</label></div>
						<!-- Password input -->
						<div class="form-group">
							<label for="password">Password</label>
							<div class="input-group" id="show_hide_password">
								<input type="password" name="Password" class="form-control"
									autocomplete="off">

								<div class="input-group-append">
									<span class="input-group-text"><i class="fa fa-eye-slash" aria-hidden="true"></i></span>
								</div>
								<br>

							</div>
							<span class="valid" id="validatepass"></span>
						</div>
						<br>
						<div class="form-group">
							<label for="password">Masukan Ulang Password</label>
							<div class="input-group" id="show_hide_password2">
								<input type="password" name="conPassword"  class="form-control"
									autocomplete="off">

								<div class="input-group-append">
									<span class="input-group-text"><i class="fa fa-eye-slash" aria-hidden="true"></i></span>
								</div>
								<br>

							</div>
							<span class="valid" id="validatepass2"></span>
						</div>
						<div class="text-center text-lg-start mt-4 pt-2">
							<input type="submit" class="btn btn-primary" value="Set Password">
						</div>

					</table>

				</form>


			</div>
		</div>
	</div>

</section>
<script>
	function validate() {
		var password = document.forms["myform"]["Password"].value;
		if (password == "" || password.length < 8) {
			$('#validatepass').html("password harus diisi.... min 8")
			return false;
		}

		var conpassword = document.forms["myform"]["conPassword"].value;
		if (conpassword == "" || conpassword.length < 8) {
			$('#validatepass2').html("Konfirmasi password harus diisi.... min 8")
			return false;
		}
		
	}
	var input = $("#show_hide_password input");
	var icon = $("#show_hide_password i");

	icon.on('click', function (event) {
		event.preventDefault();

		if (input.attr("type") === "text") {
			input.attr('type', 'password');
			icon.addClass("fa-eye-slash");
			icon.removeClass("fa-eye");

		} else if (input.attr("type") === "password") {
			input.attr('type', 'text');
			icon.removeClass("fa-eye-slash");
			icon.addClass("fa-eye");
		}
	});
	
	var input2 = $("#show_hide_password2 input");
	var icon2 = $("#show_hide_password2 i");

	icon2.on('click', function (event) {
		event.preventDefault();

		if (input2.attr("type") === "text") {
			input2.attr('type', 'password');
			icon2.addClass("fa-eye-slash");
			icon2.removeClass("fa-eye");

		} else if (input2.attr("type") === "password") {
			input2.attr('type', 'text');
			icon2.removeClass("fa-eye-slash");
			icon2.addClass("fa-eye");
		}
	});
</script>

</html>